@model ErrorViewModel
@{
    ViewData["Title"] = "系统错误";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="alert alert-danger">
                <h1 class="text-danger">
                    <i class="fas fa-exclamation-triangle"></i> 系统错误
                </h1>
                <h4 class="text-danger">处理您的请求时发生了错误</h4>
                
                @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                {
                    <div class="mt-3">
                        <strong>错误详情：</strong>
                        <p class="text-monospace bg-light p-2 rounded">@Model.ErrorMessage</p>
                    </div>
                }

                @if (Model.ShowRequestId)
                {
                    <div class="mt-3">
                        <strong>请求 ID:</strong> <code>@Model.RequestId</code>
                    </div>
                }
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <h5>可能的解决方案</h5>
                </div>
                <div class="card-body">
                    <ul>
                        <li>刷新页面重试</li>
                        <li>检查您的网络连接</li>
                        <li>如果问题持续存在，请联系系统管理员</li>
                    </ul>
                    
                    <div class="mt-3">
                        <a href="@Url.Action("Index", "Home")" class="btn btn-primary">
                            <i class="fas fa-home"></i> 返回首页
                        </a>
                        <a href="javascript:history.back()" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> 返回上一页
                        </a>
                    </div>
                </div>
            </div>

            @if (ViewContext.HttpContext.RequestServices.GetService<IWebHostEnvironment>()?.IsDevelopment() == true)
            {
                <div class="alert alert-warning mt-4">
                    <h5>开发模式信息</h5>
                    <p>
                        当前处于 <strong>Development</strong> 环境，显示详细错误信息。
                        在生产环境中，这些信息将被隐藏以保护系统安全。
                    </p>
                </div>
            }
        </div>
    </div>
</div>
